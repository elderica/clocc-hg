<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This file is automatically generated, do not edit -->

<HTML LANG='en'>
  <HEAD>
    <TITLE>12.10 Grabbing the Keyboard</TITLE>
    <LINK HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' REV='made'>
    <LINK HREF='12_11_Grabbing_a_Key.html' REL='Next'>
    <LINK HREF='12_9_Grabbing_a_Button.html' REL='Previous'>
    <LINK HREF='index.html' REL='Start'>
    <LINK HREF='contents.html' REL='Contents'>
    <LINK HREF='the_index.html' REL='Index'>
    <LINK HREF='Glossary.html' REL='Glossary'>
    <LINK HREF='Front_matter.html' REL='Copyright'>
  <BODY BGCOLOR='#FFFFFF'>
    <A HREF='12_11_Grabbing_a_Key.html'>Next</A> <A
     HREF='12_9_Grabbing_a_Button.html'>Prev</A> <A
     HREF='12_Events_and_Input.html'>Up</A> 
    <HR>
    <H1><FONT FACE='helvetica' COLOR='#004000'>12.10 Grabbing the Keyboard
      </FONT></H1>
     
    <P>
      CLX provides the <A
       HREF='12_10_Grabbing_the_Keyboard.html#grab-keyboard'><B>grab-keyboard
      </B></A> and <A HREF='12_10_Grabbing_the_Keyboard.html#ungrab-keyboard'>
      <B>ungrab-keyboard</B></A> functions for actively grabbing and 
      releasing control of the keyboard.
    <DIV>
      <HR>
      <A NAME='grab-keyboard'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>grab-keyboard</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>window</I> &#38;key <B
            >:owner-p :sync-pointer-p :sync-keyboard-p</B> <B>:time</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>window</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#window'><B>window</B></A>.
              <DT>
                <B>:owner-p</B>
              <DD>
                If true, all client windows receive keyboard input normally.
              <DT>
                <B>:sync-pointer-p</B>
              <DD>
                Indicates whether the pointer is in synchronous or 
                asynchronous mode.
              <DT>
                <B>:sync-keyboard-p</B>
              <DD>
                Indicates whether the keyboard is in synchronous or 
                asynchronous mode.
              <DT>
                <B>:time</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B></A>
                .
            </DL>
            <P>
              Actively grabs control of the keyboard. Further key events are 
              reported only to the grabbing client. The request overrides any 
              active keyboard grab by this client. <A
               HREF='12_10_Grabbing_the_Keyboard.html#grab-keyboard'><B>
              grab-keyboard</B></A> generates <A
               HREF='12_12_2_Input_Focus_Events.html#:focus-in'><B>:focus-in
              </B></A> and <A
               HREF='12_12_2_Input_Focus_Events.html#:focus-out'><B>:focus-out
              </B></A> events.
            <P>
              If <B>:owner-p</B> is <B>nil</B>, all generated key events are 
              reported with respect to <I>window</I>. If <B>:owner-p</B> is 
              true, then a generated key event that would normally be 
              reported to this client is reported normally; otherwise the 
              event is reported with respect to the <I>window</I>. Both <A
               HREF='12_12_1_Keyboard_and_Pointer_Events.html#:key-press'><B>
              :key-press</B></A> and <A
               HREF='12_12_1_Keyboard_and_Pointer_Events.html#:key-release'><B
              >:key-release</B></A> events are always reported, independent 
              of any event selection made by the client.
            <P>
              If <B>:sync-keyboard-p</B> is <B>nil</B>, keyboard event 
              processing continues normally (asynchronously); if the keyboard 
              is currently frozen by this client, then processing of keyboard 
              events is resumed. If <B>:sync-keyboard-p</B> is true, the 
              keyboard (as seen via the protocol) appears to freeze, and no 
              further keyboard events are generated by the server until the 
              grabbing client issues a releasing <A
               HREF='12_13_Releasing_Queued_Events.html#allow-events'><B>
              allow-events</B></A> request. Actual keyboard changes are not 
              lost while the keyboard is frozen; they are simply queued for 
              later processing.
            <P>
              If <B>:sync-pointer-p</B> is <B>nil</B>, pointer event 
              processing is unaffected by activation of the grab. If <B>
              :sync-pointer-p</B> is true, the pointer (as seen via the 
              protocol) appears to freeze, and no further pointer events are 
              generated by the server until the grabbing client issues a 
              releasing <A
               HREF='12_13_Releasing_Queued_Events.html#allow-events'><B>
              allow-events</B></A> request. Actual pointer changes are not 
              lost while the pointer is frozen; they are simply queued for 
              later processing.
            <P>
              The grab can fail with a status of:
            <UL>
              <LI>
                <B>:already-grabbed</B> if the keyboard is actively grabbed 
                by some other client
              <LI>
                <B>:frozen</B> if the keyboard is frozen by an active grab 
                from another client
              <LI>
                <B>:not-viewable</B> if <I>window</I> is not viewable
              <LI>
                <B>:invalid-time</B> if the specified time is earlier than 
                the last-keyboard-grab time or later than the current server 
                time. Otherwise, <A
                 HREF='12_10_Grabbing_the_Keyboard.html#grab-keyboard'><B>
                grab-keyboard</B></A> returns a status of <B>:success</B> and 
                last-keyboard-grab time is set to the specified time, with 
                current-time replaced by current server time.
            </UL>
             
            <DL>
              <DT>
                <I>grab-status</I>
              <DD>
                One of <B>:already-grabbed</B>, <B>:frozen</B>, <B>
                :invalid-time</B>, <B>:not-viewable</B>, or <B>:success</B>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='ungrab-keyboard'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>ungrab-keyboard</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>display</I> &#38;key 
            <B>:time</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>display</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#display'><B>display</B></A>.
              <DT>
                <B>:time</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B></A>
                .
            </DL>
            <P>
              Releases the keyboard if this client has it actively grabbed 
              (from either <A
               HREF='12_10_Grabbing_the_Keyboard.html#grab-keyboard'><B>
              grab-keyboard</B></A> or <A
               HREF='12_11_Grabbing_a_Key.html#grab-key'><B>grab-key</B></A>
              ), and releases any queued events. The request has no effect if 
              the specified time is earlier than the last-keyboard-grab time 
              or is later than the current server time. An <A
               HREF='12_10_Grabbing_the_Keyboard.html#ungrab-keyboard'><B>
              ungrab-keyboard</B></A> is performed automatically if the event 
              window for an active keyboard grab becomes not viewable.
      </TABLE>
    </DIV>
     
    <HR>
    <A HREF='12_11_Grabbing_a_Key.html'>Next</A> <A
     HREF='12_9_Grabbing_a_Button.html'>Prev</A> <A
     HREF='12_Events_and_Input.html'>Up</A> 
    <HR>
    <A HREF='Front_matter.html'>&#169; 1988, 1989 Texas Instruments 
    Incorporated</A>
    <BR>
    Conversion to HTML made by <A
     HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' LANG='de'>
    Gilbert Baumann</A>.
    <BR>
    Last build: Tue Dec 16 23:30:42 1997
