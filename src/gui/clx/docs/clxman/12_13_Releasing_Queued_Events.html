<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This file is automatically generated, do not edit -->

<HTML LANG='en'>
  <HEAD>
    <TITLE>12.13 Releasing Queued Events</TITLE>
    <LINK HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' REV='made'>
    <LINK HREF='13_Resources.html' REL='Next'>
    <LINK HREF='12_12_8_Declaring_Event_Types.html' REL='Previous'>
    <LINK HREF='index.html' REL='Start'>
    <LINK HREF='contents.html' REL='Contents'>
    <LINK HREF='the_index.html' REL='Index'>
    <LINK HREF='Glossary.html' REL='Glossary'>
    <LINK HREF='Front_matter.html' REL='Copyright'>
  <BODY BGCOLOR='#FFFFFF'>
    <A HREF='13_Resources.html'>Next</A> <A
     HREF='12_12_8_Declaring_Event_Types.html'>Prev</A> <A
     HREF='12_Events_and_Input.html'>Up</A> 
    <HR>
    <H1><FONT FACE='helvetica' COLOR='#004000'>12.13 Releasing Queued Events
      </FONT></H1>
     
    <P>
      A client grabbing the keyboard or pointer can freeze the reporting of 
      events on that device. When an input device is thus frozen, the server 
      queues events until explicitly requested to release them by the 
      grabbing client. CLX programs can use the <A
       HREF='12_13_Releasing_Queued_Events.html#allow-events'><B>allow-events
      </B></A> function to release queued events from a frozen input device.
    <DIV>
      <HR>
      <A NAME='allow-events'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>allow-events</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>display mode</I> &#38;
            optional <I>time</I>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>display</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#display'><B>display</B></A>.
              <DT>
                <I>mode</I>
              <DD>
                One of: <B>:async-pointer</B>, <B>:sync-pointer</B>, <B>
                :reply-pointer</B>, <B>:async-keyboard</B>, <B>:sync-keyboard
                </B>, <B>:replay-keyboard</B>, <B>:async-both</B>, <B>
                :sync-both</B>.
              <DT>
                <I>time</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B></A>
                .
            </DL>
            <P>
              Releases some queued events if the client has caused a device 
              to freeze. The request has no effect if the <I>time</I> is 
              earlier than the last-grab time of the most recent active grab 
              for the client, or if the <I>time</I> is later than the current 
              server time. If <I>time</I> is <B>nil</B>, the current server 
              time is used. The effect of this function depends on the 
              specified <I>mode</I>.
            <UL>
              <LI>
                <B>:async-pointer</B> -- If the pointer is frozen by the 
                client, pointer event processing continues normally. If the 
                pointer is frozen twice by the client on behalf of two 
                separate grabs, <B>:async-pointer</B> releases events for 
                both grab<I>s</I>. <B>:async-pointer</B> has no effect if the 
                pointer is not frozen by the client, but the pointer need not 
                be grabbed by the client.
              <LI>
                <B>:sync-pointer</B> -- If the pointer is frozen and actively 
                grabbed by the client, pointer event processing continues 
                normally until the next <A
                 HREF='12_12_1_Keyboard_and_Pointer_Events.html#:button-press'
                ><B>:button-press</B></A> or <A
                 HREF='12_12_1_Keyboard_and_Pointer_Events.html#:button-release'
                ><B>:button-release</B></A> event is reported to the client, 
                at which time the pointer again appears to freeze. However, 
                if the reported event causes the pointer grab to be released, 
                the pointer does not freeze. <B>:sync-pointer</B> has no 
                effect if the pointer is not frozen by the client, or if the 
                pointer is not grabbed by the client.
              <LI>
                <B>:replay-pointer</B> -- If the pointer is actively grabbed 
                by the client and is frozen as the result of an event having 
                been sent to the client (either from the activation of a <A
                 HREF='12_9_Grabbing_a_Button.html#grab-button'><B>grab-button
                </B></A>, or from a previous <A
                 HREF='12_13_Releasing_Queued_Events.html#allow-events'><B>
                allow-events</B></A> with mode <B>:sync-pointer</B>, but not 
                from a <A HREF='12_8_Grabbing_the_Pointer.html#grab-pointer'>
                <B>grab-pointer</B></A>), the pointer grab is released and 
                that event is completely reprocessed, but this time ignoring 
                any passive grabs at or above (towards the root) the <B>
                grab-window</B> of the grab just released. The request has no 
                effect if the pointer is not grabbed by the client, or if the 
                pointer is not frozen as the result of an event.
              <LI>
                <B>:async-keyboard</B> -- If the keyboard is frozen by the 
                client, keyboard event processing continues normally. If the 
                keyboard is frozen twice by the client on behalf of two 
                separate grabs, <B>:async-keyboard</B> releases events for 
                both grabs. <B>:async-keyboard</B> has no effect if the 
                keyboard is not frozen by the client, but the keyboard need 
                not be grabbed by the client.
              <LI>
                <B>:sync-keyboard</B> -- If the keyboard is frozen and 
                actively grabbed by the client, keyboard event processing 
                continues normally until the next <A
                 HREF='12_12_1_Keyboard_and_Pointer_Events.html#:key-press'><B
                >:key-press</B></A> or <A
                 HREF='12_12_1_Keyboard_and_Pointer_Events.html#:key-release'>
                <B>:key-release</B></A> event is reported to the client, at 
                which time the keyboard again appears to freeze. However if 
                the reported event causes the keyboard grab to be released, 
                the keyboard does not freeze. <B>:sync-keyboard</B> has no 
                effect if the keyboard is not frozen by the client, or if the 
                keyboard is not grabbed by the client.
              <LI>
                <B>:replay-keyboard</B> -- If the keyboard is actively 
                grabbed by the client and is frozen as the result of an event 
                having been sent to the client (either from the activation of 
                a grab-key, or from a previous <A
                 HREF='12_13_Releasing_Queued_Events.html#allow-events'><B>
                allow-events</B></A> with mode <B>:sync-keyboard</B>, but not 
                from a <A
                 HREF='12_10_Grabbing_the_Keyboard.html#grab-keyboard'><B>
                grab-keyboard</B></A>), the keyboard grab is released and 
                that event is completely reprocessed, but this time ignoring 
                any passive grabs at or above (towards the root) the <B>
                grab-window</B> of the grab just released. The request has no 
                effect if the keyboard is not grabbed by the client, or if 
                the keyboard is not frozen as the result of an event.
              <LI>
                <B>:sync-both</B> -- If both pointer and keyboard are frozen 
                by the client, event processing (for both devices) continues 
                normally until the next <A
                 HREF='12_12_1_Keyboard_and_Pointer_Events.html#:button-press'
                ><B>:button-press</B></A>, <A
                 HREF='12_12_1_Keyboard_and_Pointer_Events.html#:button-release'
                ><B>:button-release</B></A>, <A
                 HREF='12_12_1_Keyboard_and_Pointer_Events.html#:key-press'><B
                >:key-press</B></A>, or <A
                 HREF='12_12_1_Keyboard_and_Pointer_Events.html#:key-release'>
                <B>:key-release</B></A> event is reported to the client for a 
                grabbed device (button event for the pointer, key event for 
                the keyboard). At this time, the devices again appear to 
                freeze. If the reported event causes the grab to be released, 
                the devices do not freeze. However, if the other device is 
                still grabbed, then a subsequent event for it will still 
                cause both devices to freeze. <B>:sync-both</B> has no effect 
                unless both pointer and keyboard are frozen by the client. If 
                the pointer of keyboard is frozen twice by the client on 
                behalf of two separate grabs, <B>:sync-both</B> <I>thaws</I> 
                for both, but a subsequent freeze for <B>:sync-both</B> will 
                only freeze each device once.
              <LI>
                <B>:async-both</B> -- If the pointer and the keyboard are 
                frozen by the client, event processing for both devices 
                continues normally. If a device is frozen twice by the client 
                on behalf of two separate grabs, <B>:async-both</B> <I>thaws
                </I> for both. <B>:async-both</B> has no effect unless both 
                pointer and keyboard are frozen by the client.
            </UL>
             
            <P>
              <B>:async-pointer</B>, <B>:sync-pointer</B>, and <B>
              :replay-pointer</B> have no effect on processing of keyboard 
              events. <B>:async-keyboard</B>, <B>:sync-keyboard</B>, and <B>
              :replay-keyboard</B> have no effect on processing of pointer 
              events.
            <P>
              It is possible for both a pointer grab and a keyboard grab to 
              be active simultaneously by the same or different clients. When 
              a device is frozen on behalf of either grab, no event 
              processing is performed for the device. It is possible for a 
              single device to be frozen due to both grabs. In this case, the 
              freeze must be released on behalf of both grabs before events 
              can again be processed.
      </TABLE>
    </DIV>
     
    <HR>
    <A HREF='13_Resources.html'>Next</A> <A
     HREF='12_12_8_Declaring_Event_Types.html'>Prev</A> <A
     HREF='12_Events_and_Input.html'>Up</A> 
    <HR>
    <A HREF='Front_matter.html'>&#169; 1988, 1989 Texas Instruments 
    Incorporated</A>
    <BR>
    Conversion to HTML made by <A
     HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' LANG='de'>
    Gilbert Baumann</A>.
    <BR>
    Last build: Tue Dec 16 23:30:42 1997
