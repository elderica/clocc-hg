<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This file is automatically generated, do not edit -->

<HTML LANG='en'>
  <HEAD>
    <TITLE>7.3 Image Functions</TITLE>
    <LINK HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' REV='made'>
    <LINK HREF='7_4_Image_Files.html' REL='Next'>
    <LINK HREF='7_2_3_Z-Format_Images.html' REL='Previous'>
    <LINK HREF='index.html' REL='Start'>
    <LINK HREF='contents.html' REL='Contents'>
    <LINK HREF='the_index.html' REL='Index'>
    <LINK HREF='Glossary.html' REL='Glossary'>
    <LINK HREF='Front_matter.html' REL='Copyright'>
  <BODY BGCOLOR='#FFFFFF'>
    <A HREF='7_4_Image_Files.html'>Next</A> <A
     HREF='7_2_3_Z-Format_Images.html'>Prev</A> <A HREF='7_Images.html'>Up</A>
     
    <HR>
    <H1><FONT FACE='helvetica' COLOR='#004000'>7.3 Image Functions</FONT></H1>
     
    <P>
      The following paragraphs describe the CLX functions used to:
    <UL>
      <LI>
        Create an <B>image</B> object.
      <LI>
        Copy an image or a subimage.
      <LI>
        Read an image from a <A HREF='1_6_Data_Types.html#drawable'><B>
        drawable</B></A>.
      <LI>
        Display an image to a <A HREF='1_6_Data_Types.html#drawable'><B>
        drawable</B></A>.
    </UL>
     
    <DIV>
      <HR>
      <A NAME='create-image'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>create-image</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'>&#38;key <B>
            :bit-lsb-first-p :bits-per-pixel :blue-mask</B> <B>
            :byte-lsb-first-p :bytes-per-line :data :depth :format</B> <B>
            :green-mask :height :name :plist :red-mask :width</B> <B>:x-hot 
            :y-hot</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <B>:bit-lsb-first-p</B>
              <DD>
                For a returned image, true if the order of bits in each <B>
                :data</B> byte is least-significant bit first.
              <DT>
                <B>:bits-per-pixel</B>
              <DD>
                One of 1, 4, 8, 16, 24, or 32.
              <DT>
                <B>:blue-mask</B>
              <DD>
                For <B>:true-color</B> or <B>:direct-color</B> images, a 
                pixel mask.
              <DT>
                <B>:byte-lsb-first-p</B>
              <DD>
                For a returned <I>image</I>, true if the <B>:data</B> byte 
                order is least-significant byte first.
              <DT>
                <B>:bytes-per-line</B>
              <DD>
                For a returned <I>image</I>, the number of <B>:data</B> bytes 
                per scanline.
              <DT>
                <B>:data</B>
              <DD>
                Either a <B>list</B> of <B>bitmaps</B>, a <A
                 HREF='1_6_Data_Types.html#pixarray'><B>pixarray</B></A>, or 
                an array of <A HREF='1_6_Data_Types.html#card8'><B>card8</B>
                </A> bytes.
              <DT>
                <B>:depth</B>
              <DD>
                The number of bits per displayed pixel.
              <DT>
                <B>:format</B>
              <DD>
                One of <B>:bitmap</B>, <B>:xy-format</B>, or <B>:z-format</B>.
              <DT>
                <B>:green-mask</B>
              <DD>
                For <B>:true-color</B> or <B>:direct-color</B> images, a 
                pixel mask.
              <DT>
                <B>:height</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#card16'><B>card16</B></A> for 
                the image height in pixels.
              <DT>
                <B>:name</B>
              <DD>
                An optional <A HREF='1_6_Data_Types.html#stringable'><B>
                stringable</B></A> for the image name.
              <DT>
                <B>:plist</B>
              <DD>
                An optional image property list.
              <DT>
                <B>:red-mask</B>
              <DD>
                For <B>:true-color</B> or <B>:direct-color</B> images, a 
                pixel mask.
              <DT>
                <B>:width</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#card16'><B>card16</B></A> for 
                the image width in pixels.
              <DT>
                <B>:x-hot</B>
              <DD>
                For a <A HREF='1_6_Data_Types.html#cursor'><B>cursor</B></A> 
                image, the x position of the hot spot.
              <DT>
                <B>:y-hot</B>
              <DD>
                For a cursor image, the y position of the hot spot.
            </DL>
            <P>
              Creates an <B>image</B> object from the given <B>:data</B> and 
              returns either an <B>image</B>, <B>image-xy</B>, or an <B>
              image-z</B>, depending on the type of image <B>:data</B>. If 
              the <B>:data</B> is a list, it is assumed to be a <B>list</B> 
              of <B>bitmaps</B> and an <B>image-xy</B> is created. If the <B>
              :data</B> is a <A HREF='1_6_Data_Types.html#pixarray'><B>
              pixarray</B></A>, an <B>image-z</B> is created. Otherwise, the 
              <B>:data</B> must be an array of bytes (<A
               HREF='1_6_Data_Types.html#card8'><B>card8</B></A>), in which 
              case a basic <B>image</B> object is created.
            <P>
              If the <B>:data</B> is a list, each element must be a bitmap of 
              equal size. <B>:width</B> and <B>:height</B> default to the 
              bitmap width -- (<B>array-dimension bitmap</B> 1) -- and the 
              bitmap height -- (<B>array-dimension bitmap</B> 0) -- 
              respectively. <B>:depth</B> defaults to the number of bitmaps.
            <P>
              If the <B>:data</B> is a <A HREF='1_6_Data_Types.html#pixarray'>
              <B>pixarray</B></A>, <B>:width</B> and <B>:height</B> default 
              to the <A HREF='1_6_Data_Types.html#pixarray'><B>pixarray</B>
              </A> width -- (<B>array-dimension pixarray</B> 1), and the 
              pixarray height -- (<B>array-dimension pixarray</B> 0), 
              respectively. <B>:depth</B> defaults to (<B>pixarray-depth</B> 
              <B>:data</B>). The <B>:bits-per-pixel</B> is rounded to a valid 
              size, if necessary. By default, the <B>:bits-per-pixel</B> is 
              equal to the <B>:depth</B>.
            <P>
              If the <B>:data</B> is an array of <A
               HREF='1_6_Data_Types.html#card8'><B>card8</B></A>, the <B>
              :width</B> and <B>:height</B> are required to interpret the 
              image data correctly. The <B>:bits-per-pixel</B> defaults to 
              the <B>:depth</B>, and the <B>:depth</B> defaults to 1. <B>
              :bytes-per-line</B> defaults to:
            <P ALIGN='CENTER'>
              (<B>floor</B> (<B>length :data</B>) (* <B>:bits-per-pixel 
              :height</B>))
            <P>
              The <B>:format</B> defines the storage format of image data 
              bytes and can be one of the following values:
            <DL>
              <DT>
                <B>:xy-pixmap</B>
              <DD>
                The <B>:data</B> is organized as a set of bitmaps 
                representing image bit planes, appearing in most-significant 
                to least-significant bit order.
              <DT>
                <B>:z-pixmap</B>
              <DD>
                The <B>:data</B> is organized as a set of pixel values in 
                scanline order.
              <DT>
                <B>:bitmap</B>
              <DD>
                Similar to <B>:xy-pixmap</B>, except that the <B>:depth</B> 
                must be 1, and 1 and 0 bits represent the foreground and 
                background pixels, respectively.
            </DL>
             
            <P>
              By default, the <B>:format</B> is <B>:bitmap</B> if <B>:depth
              </B> is 1; otherwise, <B>:z-pixmap</B>.
            <DL>
              <DT>
                <I>image</I>
              <DD>
                Type <B>image</B>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='copy-image'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>copy-image</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>image</I> &#38;key (<B
            >:x</B> 0) (<B>:y</B> 0) <B>:width :height :result-type</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>image</I>
              <DD>
                An <B>image</B> object.
              <DT>
                <B>:x</B>, <B>:y</B>
              <DD>
                <A HREF='1_6_Data_Types.html#card16'><B>card16</B></A> values 
                defining the position of the upper-left corner of the 
                subimage copied.
              <DT>
                <B>:width</B>, <B>:height</B>
              <DD>
                <A HREF='1_6_Data_Types.html#card16'><B>card16</B></A> values 
                defining the size of subimage copied.
              <DT>
                <B>:result-type</B>
              <DD>
                One of <B>&#39;image-x</B>, <B>&#39;image-xy</B>, or <B>
                &#39;image-z</B>.
            </DL>
            <P>
              Returns a new image, of the given <B>:result-type</B>, 
              containing a copy of the portion of the <I>image</I> defined by 
              <B>:x</B>, <B>:y</B>, <B>:width</B>, and <B>:height</B>. By 
              default, <B>:width</B> is:
            <P ALIGN='CENTER'>
              (- (<A HREF='7_2_1_Basic_Images.html#image-width'><B>image-width
              </B></A> <I>image</I>) <B>:x</B>)
            <P>
              and <B>:height</B> is:
            <P ALIGN='CENTER'>
              (- (<A HREF='7_2_1_Basic_Images.html#image-height'><B>
              image-height</B></A> <I>image</I>) <B>:y</B>)
            <P>
              If necessary, the new image is converted to the <B>:result-type
              </B>, that can be one of the following values:
            <DL>
              <DT>
                <B>&#39;image-x</B>
              <DD>
                A basic <B>image</B> object is returned.
              <DT>
                <B>&#39;image-xy</B>
              <DD>
                An <B>image-xy</B> is returned.
              <DT>
                <B>&#39;image-z</B>
              <DD>
                An <B>image-z</B> is returned.
            </DL>
             
            <DL>
              <DT>
                <I>new-image</I>
              <DD>
                Type <B>image</B>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='get-image'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>get-image</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>drawable</I> &#38;key 
            <B>:x :y :width :height :plane-mask</B> (<B>:format :z-format</B>
            ) <B>:result-type</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>drawable</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#drawable'><B>drawable</B></A>.
              <DT>
                <B>:x</B>, <B>:y</B>
              <DD>
                <A HREF='1_6_Data_Types.html#card16'><B>card16</B></A> values 
                defining the upper-left <A HREF='1_6_Data_Types.html#drawable'
                ><B>drawable</B></A> pixel returned. These arguments are 
                required.
              <DT>
                <B>:width</B>, <B>:height</B>
              <DD>
                <A HREF='1_6_Data_Types.html#card16'><B>card16</B></A> values 
                defining the size of the <I>image</I> returned. These 
                arguments are required.
              <DT>
                <B>:plane-mask</B>
              <DD>
                A pixel mask.
              <DT>
                <B>:format</B>
              <DD>
                Either <B>:xy-pixmap</B> or <B>:z-pixmap</B>.
              <DT>
                <B>:result-type</B>
              <DD>
                One of <B>&#39;image-x</B>, <B>&#39;image-xy</B>, or <B>
                &#39;image-z</B>.
            </DL>
            <P>
              Returns an <I>image</I> containing pixel values from the region 
              of the <I>drawable</I> given by <B>:x</B>, <B>:y</B>, <B>:width
              </B>, and <B>:height</B>. The bits for all planes selected by 1 
              bits in the <B>:plane-mask</B> are returned as zero; the 
              default <B>:plane-mask</B> is all 1 bits. The <B>:format</B> of 
              the returned pixel values may be either <B>:xy-format</B> or <B>
              :z-format</B>.
            <P>
              The <B>:result-type</B> defines the type of image object 
              returned:
            <DL>
              <DT>
                <B>&#39;image-x</B>
              <DD>
                A basic <B>image</B> object is returned.
              <DT>
                <B>&#39;image-xy</B>
              <DD>
                An <B>image-xy</B> is returned.
              <DT>
                <B>&#39;image-z</B>
              <DD>
                An <B>image-z</B> is returned.
            </DL>
             
            <P>
              By default, <B>:result-type</B> is <B>&#39;image-z</B> if <B>
              :format</B> is <B>:z-format</B> and <B>&#39;image-xy</B> if <B>
              :format</B> is <B>:xy-format</B>.
            <DL>
              <DT>
                <I>image</I>
              <DD>
                Type <B>image</B>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='put-image'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>put-image</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>drawable gcontext 
            image</I> &#38;key (<B>:src-x</B> 0) (<B>:src-y</B> 0) <B>:x :y
            </B> <B>:width :height :bitmap-p</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>drawable</I>
              <DD>
                The destination <A HREF='1_6_Data_Types.html#drawable'><B>
                drawable</B></A>.
              <DT>
                <I>gcontext</I>
              <DD>
                The graphics context used to display the <I>image</I>.
              <DT>
                <I>image</I>
              <DD>
                An <B>image</B> object.
              <DT>
                <B>:src-x</B>, <B>:src-y</B>
              <DD>
                <A HREF='1_6_Data_Types.html#card16'><B>card16</B></A> values 
                defining the upper-left position of the <I>image</I> region 
                to display.
              <DT>
                <B>:x</B>, <B>:y</B>
              <DD>
                The position in the <I>drawable</I> where the <I>image</I> 
                region is displayed. These arguments are required.
              <DT>
                <B>:width</B>, <B>:height</B>
              <DD>
                <A HREF='1_6_Data_Types.html#card16'><B>card16</B></A> values 
                defining the size of the <I>image</I> region displayed.
              <DT>
                <B>:bitmap-p</B>
              <DD>
                If <I>image</I> is depth 1, then if true, foreground and 
                background pixels are used to display 1 and 0 bits of the <I>
                image</I>.
            </DL>
            <P>
              Displays a region of the <I>image</I> defined by <B>:src-x</B>, 
              <B>:src-y</B>, <B>:width</B>, and <B>:height</B> on the 
              destination d<I>rawable</I>, with the upper-left pixel of the <I
              >image</I> region displayed at the <I>drawable</I> position 
              given by <B>:x</B> and <B>:y</B>. By default, <B>:width</B> is:
            <P ALIGN='CENTER'>
              (- (<A HREF='7_2_1_Basic_Images.html#image-width'><B>image-width
              </B></A> <I>image</I>) <B>:src-x</B>)
            <P>
              and <B>:height</B> is:
            <P ALIGN='CENTER'>
              (- (<A HREF='7_2_1_Basic_Images.html#image-height'><B>
              image-height</B></A> <I>image</I>) <B>:src-y</B>)
            <P>
              The following attributes of the <I>gcontext</I> are used to 
              display the <B>image</B>: clip-mask, clip-x, clip-y, function, 
              plane-mask, and subwindow-mode.
            <P>
              The <B>:bitmap-p</B> argument applies only to images of depth 
              1. In this case, if <B>:bitmap-p</B> is true or if the <I>image
              </I> is a basic <B>image</B> object created with <B>:format 
              :bitmap</B>, the <I>image</I> is combined with the foreground 
              and background pixels of the <A
               HREF='1_6_Data_Types.html#gcontext'><B>gcontext</B></A>. 1 
              bits of the <I>image</I> are displayed in the foreground pixel 
              and 0 bits are displayed in the background pixel.
      </TABLE>
    </DIV>
     
    <HR>
    <A HREF='7_4_Image_Files.html'>Next</A> <A
     HREF='7_2_3_Z-Format_Images.html'>Prev</A> <A HREF='7_Images.html'>Up</A>
     
    <HR>
    <A HREF='Front_matter.html'>&#169; 1988, 1989 Texas Instruments 
    Incorporated</A>
    <BR>
    Conversion to HTML made by <A
     HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' LANG='de'>
    Gilbert Baumann</A>.
    <BR>
    Last build: Tue Dec 16 23:30:42 1997
