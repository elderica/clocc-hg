<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This file is automatically generated, do not edit -->

<HTML LANG='en'>
  <HEAD>
    <TITLE>12.11 Grabbing a Key</TITLE>
    <LINK HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' REV='made'>
    <LINK HREF='12_12_Event_Types.html' REL='Next'>
    <LINK HREF='12_10_Grabbing_the_Keyboard.html' REL='Previous'>
    <LINK HREF='index.html' REL='Start'>
    <LINK HREF='contents.html' REL='Contents'>
    <LINK HREF='the_index.html' REL='Index'>
    <LINK HREF='Glossary.html' REL='Glossary'>
    <LINK HREF='Front_matter.html' REL='Copyright'>
  <BODY BGCOLOR='#FFFFFF'>
    <A HREF='12_12_Event_Types.html'>Next</A> <A
     HREF='12_10_Grabbing_the_Keyboard.html'>Prev</A> <A
     HREF='12_Events_and_Input.html'>Up</A> 
    <HR>
    <H1><FONT FACE='helvetica' COLOR='#004000'>12.11 Grabbing a Key</FONT>
    </H1>
     
    <P>
      The following paragraphs describe the functions used for passively 
      grabbing and releasing the keyboard.
    <DIV>
      <HR>
      <A NAME='grab-key'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>grab-key</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>window key</I> &#38;
            key (<B>:modifiers</B> 0) <B>:owner-p :sync-pointer-p</B> <B>
            :sync-keyboard-p :time</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>window</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#window'><B>window</B></A>.
              <DT>
                <I>key</I>
              <DD>
                The key (type <A HREF='1_6_Data_Types.html#card8'><B>card8</B>
                </A>) to be grabbed or <B>:any</B>.
              <DT>
                <B>:modifiers</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#modifier-mask'><B>modifier-mask
                </B></A>.
              <DT>
                <B>:owner-p</B>
              <DD>
                If true, all client windows receive keyboard input normally.
              <DT>
                <B>:sync-pointer-p</B>
              <DD>
                Indicates whether the pointer is in synchronous or 
                asynchronous mode.
              <DT>
                <B>:sync-keyboard-p</B>
              <DD>
                Indicates whether the keyboard is in synchronous or 
                asynchronous mode.
              <DT>
                <B>:time</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B></A>
                .
            </DL>
            <P>
              This request establishes a passive grab on the keyboard. If the 
              specified <I>key</I> (which can also be a modifier key) is 
              pressed (whether or not any specified modifier keys are down), 
              and either of the following is true:
            <UL>
              <LI>
                <I>window</I> is an ancestor of (or is) the focus window
              <LI>
                <I>window</I> is a descendant of the focus window and 
                contains the pointer
              <LI>
                These constraints are not satisfied for any ancestor of <I>
                window</I>, then the following occurs: 
                <UL>
                  <LI>
                    The keyboard is actively grabbed as described in <A
                     HREF='12_10_Grabbing_the_Keyboard.html#grab-keyboard'><B>
                    grab-keyboard</B></A>
                  <LI>
                    The last-keyboard-grab time is set to the time that the <I
                    >key</I> was pressed (as transmitted in the <A
                     HREF='12_12_1_Keyboard_and_Pointer_Events.html#:key-press'
                    ><B>:key-press</B></A> event)
                  <LI>
                    The <A
                     HREF='12_12_1_Keyboard_and_Pointer_Events.html#:key-press'
                    ><B>:key-press</B></A> event is reported
                </UL>
            </UL>
             The interpretation of the remaining arguments is as for <A
             HREF='12_10_Grabbing_the_Keyboard.html#grab-keyboard'><B>
            grab-keyboard</B></A>. The active grab is terminated 
            automatically when the specified <I>key</I> has been released, 
            independent of the state of the modifier keys. 
            <P>
              A zero modifier mask is equivalent to issuing the request for 
              all possible modifier combinations (including the combination 
              of no modifiers). It is not required that all specified 
              modifiers have currently assigned keycodes. A <I>key</I> of <B>
              :any</B> is equivalent to issuing the request for all possible 
              keycodes. Otherwise, the <I>key</I> must be in the range 
              specified by <A
               HREF='2_3_Display_Attributes.html#display-min-keycode'><B>
              display-min-keycode</B></A> and <A
               HREF='2_3_Display_Attributes.html#display-max-keycode'><B>
              display-max-keycode</B></A> in the connection setup.
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='ungrab-key'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>ungrab-key</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>window key</I> &#38;
            key (<B>:modifiers</B> 0)
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>window</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#window'><B>window</B></A>.
              <DT>
                <I>key</I>
              <DD>
                The key (type <A HREF='1_6_Data_Types.html#card8'><B>card8</B>
                </A>) to be released or <B>:any</B>.
              <DT>
                <B>:modifiers</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#modifier-mask'><B>modifier-mask
                </B></A>.
            </DL>
            <P>
              Releases the <I>key</I> combination on the specified <I>window
              </I> if it was grabbed by this client. A zero modifier mask of 
              <B>:any</B> is equivalent to issuing the request for all 
              possible modifier combinations (including the combination of no 
              modifiers). A <I>key</I> of <B>:any</B> is equivalent to 
              issuing the request for all possible keycodes. <A
               HREF='12_11_Grabbing_a_Key.html#ungrab-key'><B>ungrab-key</B>
              </A> has no effect on an active grab.
      </TABLE>
    </DIV>
     
    <HR>
    <A HREF='12_12_Event_Types.html'>Next</A> <A
     HREF='12_10_Grabbing_the_Keyboard.html'>Prev</A> <A
     HREF='12_Events_and_Input.html'>Up</A> 
    <HR>
    <A HREF='Front_matter.html'>&#169; 1988, 1989 Texas Instruments 
    Incorporated</A>
    <BR>
    Conversion to HTML made by <A
     HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' LANG='de'>
    Gilbert Baumann</A>.
    <BR>
    Last build: Tue Dec 16 23:30:42 1997
