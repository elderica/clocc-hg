<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This file is automatically generated, do not edit -->

<HTML LANG='en'>
  <HEAD>
    <TITLE>11.2 Properties</TITLE>
    <LINK HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' REV='made'>
    <LINK HREF='11_3_Selections.html' REL='Next'>
    <LINK HREF='11_1_Atoms.html' REL='Previous'>
    <LINK HREF='index.html' REL='Start'>
    <LINK HREF='contents.html' REL='Contents'>
    <LINK HREF='the_index.html' REL='Index'>
    <LINK HREF='Glossary.html' REL='Glossary'>
    <LINK HREF='Front_matter.html' REL='Copyright'>
  <BODY BGCOLOR='#FFFFFF'>
    <A HREF='11_3_Selections.html'>Next</A> <A HREF='11_1_Atoms.html'>Prev</A>
     <A HREF='11_Atoms__Properties_and_Selections.html'>Up</A> 
    <HR>
    <H1><FONT FACE='helvetica' COLOR='#004000'>11.2 Properties</FONT></H1>
     
    <P>
      For each window, an X server can record a set of <I>properties</I>. 
      Properties are a general mechanism for clients to associate arbitrary 
      data with a window, and for clients to communicate window data to each 
      other via the server. No interpretation is placed on property data by 
      the server itself.
    <P>
      A property consists of a name, a type, a data format, and data. The 
      name of a property is given by an atom. The property type is another 
      atom used to denote the intended interpretation of the property data. 
      The property formats specifies whether the property data should be 
      treated as a set of 8-, 16-, or 32-bit elements. The property format 
      must be specified so that the X server can communicate property data 
      with the correct byte order.
    <P>
      CLX provides functions to:
    <UL>
      <LI>
        Create or change a property
      <LI>
        Return property data
      <LI>
        List window properties
      <LI>
        Delete a property
    </UL>
     
    <DIV>
      <HR>
      <A NAME='change-property'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>change-property</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>window property data 
            type format</I> &#38;key (<B>:mode :replace</B>) (<B>:start</B> 
            0) <B>:end :transform</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>window</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#window'><B>window</B></A>.
              <DT>
                <I>property</I>
              <DD>
                A property name <A HREF='1_6_Data_Types.html#xatom'><B>xatom
                </B></A>.
              <DT>
                <I>data</I>
              <DD>
                A sequence of property data elements.
              <DT>
                <I>type</I>
              <DD>
                The property type <A HREF='1_6_Data_Types.html#xatom'><B>xatom
                </B></A>.
              <DT>
                <I>format</I>
              <DD>
                One of 8, 16, or 32.
              <DT>
                <B>:mode</B>
              <DD>
                One of <B>:replace</B>, <B>:append</B>, or <B>:prepend</B>.
              <DT>
                <B>:start, :end</B>
              <DD>
                Specify the subsequence of previous data replaced when <B>
                :mode</B> is <B>:replace</B>.
              <DT>
                <B>:transform</B>
              <DD>
                A function that transforms each data element into a data 
                value to store.
            </DL>
            <P>
              Creates a new window property or changes an existing property. 
              A <A
               HREF='12_12_7_Client_Communications_Events.html#:property-notify'
              ><B>:property-notify</B></A> event is generated for the <I>
              window</I>.
            <P>
              If the <B>:mode</B> is <B>:replace</B>, the new <I>data</I>, <I>
              type</I>, and <I>format</I> replace any previous values. The 
              subsequence of previous data elements that are replaced is 
              defined by the <B>:start</B> and <B>:end</B> indexes.
            <P>
              If the <B>:mode</B> is <B>:prepend</B> or <B>:append</B>, no 
              previous data is changed, but the new <I>data</I> is added at 
              the beginning or the end, respectively. For these modes, if the 
              <I>property</I> already exists, the new <I>type</I> and <I>
              format</I> must match the previous values.
            <P>
              The <B>:transform</B>, if given, is a function used to compute 
              the actual property data stored. The <B>:transform</B>, which 
              must accept a single data element and return a single 
              transformed data element, is called for each data element. If 
              the <I>data</I> is a string, the default <B>:transform</B> 
              function transforms each character into its ASCII code; 
              otherwise, the default is to store the <I>data</I> unchanged.
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='delete-property'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>delete-property</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>window property</I>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>window</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#window'><B>window</B></A>.
              <DT>
                <I>property</I>
              <DD>
                A property name <A HREF='1_6_Data_Types.html#xatom'><B>xatom
                </B></A>.
            </DL>
            <P>
              Deletes the <I>window property</I>. If the <I>property</I> 
              already exists, a <A
               HREF='12_12_7_Client_Communications_Events.html#:property-notify'
              ><B>:property-notify</B></A> event is generated for the <I>
              window</I>.
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='get-property'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>get-property</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>window property</I> 
            &#38;key <B>:type</B> (<B>:start</B> 0) <B>:end :delete-p</B> (<B>
            :result-type &#39;list</B>) <B>:transform</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>window</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#window'><B>window</B></A>.
              <DT>
                <I>property</I>
              <DD>
                A property name <A HREF='1_6_Data_Types.html#xatom'><B>xatom
                </B></A>.
              <DT>
                <B>:type</B>
              <DD>
                The requested type <A HREF='1_6_Data_Types.html#xatom'><B>
                xatom</B></A> or <B>nil</B>.
              <DT>
                <B>:start</B>, <B>:end</B>
              <DD>
                Specify the subsequence of property <I>data</I> returned.
              <DT>
                <B>:transform</B>
              <DD>
                A function that transforms each data element into a data 
                value to return.
              <DT>
                <B>:delete-p</B>
              <DD>
                If true, the existing <I>property</I> can be deleted.
              <DT>
                <B>:result-type</B>
              <DD>
                The t<I>ype</I> of data sequence to return. Default is <B>
                &#39;list</B>.
            </DL>
            <P>
              Returns a subsequence of the data for the window property. The 
              <B>:start</B> and <B>:end</B> indexes specify the property <I>
              data</I> elements returned. The <B>:transform</B> function is 
              called for elements of the specified subsequence to compute the 
              <I>data</I> sequence returned. The property <I>type</I> and <I>
              format</I> are also returned. The final return value gives the 
              actual number of data bytes (not elements) following the last 
              data element returned.
            <P>
              If the <I>property</I> does not exist, the returned <I>data</I> 
              and <I>type</I> are <B>nil</B> and the returned <I>format</I> 
              and <I>bytes-after</I> are zero.
            <P>
              If the given <B>:type</B> is non-<B>nil</B> but does not match 
              the actual property type, then the <I>data</I> returned is <B>
              nil</B>, the <I>type</I> and <I>format</I> returned give the 
              actual property values, and the <I>bytes-after</I> returned 
              gives the total number of bytes (not elements) in the property 
              data.
            <P>
              If the given <B>:type</B> is <B>nil</B> or if it matches the 
              actual property type, then:
            <UL>
              <LI>
                The <I>data</I> returned is the transformed subsequence of 
                the property data.
              <LI>
                The <I>type</I> and <I>format</I> returned give the actual 
                property values.
              <LI>
                The <I>bytes-after</I> returned gives the actual number of 
                data bytes (not elements) following the last data element 
                returned.
            </UL>
             
            <P>
              In this case, the <B>:delete-p</B> argument is also examined. 
              If <B>:delete-p</B> is true and <I>bytes-after</I> is zero, the 
              property is deleted and a <A
               HREF='12_12_7_Client_Communications_Events.html#:property-notify'
              ><B>:property-notify</B></A> event is generated for the <I>
              window</I>.
            <DL>
              <DT>
                <I>data</I>
              <DD>
                Type <B>sequence</B>.
              <DT>
                <I>type</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#xatom'><B>xatom</B></A>.
              <DT>
                <I>format</I>
              <DD>
                Type (<B>member 8 16 32</B>).
              <DT>
                <I>bytes-after</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#card32'><B>card32</B></A>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='list-properties'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>list-properties</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>window</I> &#38;key (
            <B>:result-type &#39;list</B>)
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>window</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#window'><B>window</B></A>.
              <DT>
                <B>:result-type</B>
              <DD>
                The type of sequence to return. Default is <B>&#39;list</B>.
            </DL>
            <P>
              Returns a sequence containing the names of all <I>window 
              properties</I>.
            <DL>
              <DT>
                <I>properties</I>
              <DD>
                Type <B>sequence</B> of <B>keyword</B>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='rotate-properties'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>rotate-properties</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>window properties</I> 
            &#38;optional (<I>delta</I> 1)
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>window</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#window'><B>window</B></A>.
              <DT>
                <I>properties</I>
              <DD>
                A sequence of <A HREF='1_6_Data_Types.html#xatom'><B>xatom</B>
                </A> values.
              <DT>
                <I>delta</I>
              <DD>
                The index interval between source and destination elements of 
                <I>properties</I>.
            </DL>
            <P>
              Rotates the values of the given <I>window properties</I>. The 
              value of property <I>i</I> in the given sequence is changed to 
              the value of the property at index (<B>mod</B> (+ <I>i delta</I>
              ) (<B>length</B> <I>properties</I>)). This function operates 
              much like the <B>rotatef</B> macro in Common Lisp.
            <P>
              If (<B>mod</B> <I>delta</I> (<B>length</B> <I>properties</I>)) 
              is non-zero, a <A
               HREF='12_12_7_Client_Communications_Events.html#:property-notify'
              ><B>:property-notify</B></A> event is generated on the window 
              for each property, in the same order as they appear in the <I>
              properties</I> sequence.
      </TABLE>
    </DIV>
     
    <HR>
    <A HREF='11_3_Selections.html'>Next</A> <A HREF='11_1_Atoms.html'>Prev</A>
     <A HREF='11_Atoms__Properties_and_Selections.html'>Up</A> 
    <HR>
    <A HREF='Front_matter.html'>&#169; 1988, 1989 Texas Instruments 
    Incorporated</A>
    <BR>
    Conversion to HTML made by <A
     HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' LANG='de'>
    Gilbert Baumann</A>.
    <BR>
    Last build: Tue Dec 16 23:30:42 1997
