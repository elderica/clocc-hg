<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This file is automatically generated, do not edit -->

<HTML LANG='en'>
  <HEAD>
    <TITLE>12.8 Grabbing the Pointer</TITLE>
    <LINK HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' REV='made'>
    <LINK HREF='12_9_Grabbing_a_Button.html' REL='Next'>
    <LINK HREF='12_7_Managing_Input_Focus.html' REL='Previous'>
    <LINK HREF='index.html' REL='Start'>
    <LINK HREF='contents.html' REL='Contents'>
    <LINK HREF='the_index.html' REL='Index'>
    <LINK HREF='Glossary.html' REL='Glossary'>
    <LINK HREF='Front_matter.html' REL='Copyright'>
  <BODY BGCOLOR='#FFFFFF'>
    <A HREF='12_9_Grabbing_a_Button.html'>Next</A> <A
     HREF='12_7_Managing_Input_Focus.html'>Prev</A> <A
     HREF='12_Events_and_Input.html'>Up</A> 
    <HR>
    <H1><FONT FACE='helvetica' COLOR='#004000'>12.8 Grabbing the Pointer
      </FONT></H1>
     
    <P>
      CLX provides the <A HREF='12_8_Grabbing_the_Pointer.html#grab-pointer'>
      <B>grab-pointer</B></A> and <A
       HREF='12_8_Grabbing_the_Pointer.html#ungrab-pointer'><B>ungrab-pointer
      </B></A> functions for grabbing and releasing pointer control.
    <DIV>
      <HR>
      <A NAME='grab-pointer'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>grab-pointer</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>window event-mask</I> 
            &#38;key <B>:owner-p :sync-pointer-p</B> <B>:sync-keyboard-p 
            :confine-to :cursor :time</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>window</I>
              <DD>
                The <A HREF='1_6_Data_Types.html#window'><B>window</B></A> 
                grabbing the pointer.
              <DT>
                <I>event-mask</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#pointer-event-mask'><B>
                pointer-event-mask</B></A>.
              <DT>
                <B>:owner-p</B>
              <DD>
                If true, all client windows receive pointer events normally.
              <DT>
                <B>:sync-pointer-p</B>
              <DD>
                Indicates whether the pointer is in synchronous or 
                asynchronous mode.
              <DT>
                <B>:sync-keyboard-p</B>
              <DD>
                Indicates whether the keyboard is in synchronous or 
                asynchronous mode.
              <DT>
                <B>:confine-to</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#window'><B>window</B></A> to 
                which the pointer is confined.
              <DT>
                <B>:cursor</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#cursor'><B>cursor</B></A>.
              <DT>
                <B>:time</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B></A>
                . A <B>nil</B> value means the current server time is used.
            </DL>
            <P>
              Actively grabs control of the pointer. Further pointer events 
              are only reported to the grabbing client. The request overrides 
              any active pointer grab by this client.
            <P>
              If <B>:owner-p</B> is <B>nil</B>, all generated pointer events 
              are reported with respect to <I>window</I>, and are only 
              reported if selected by <I>event-mask</I>. If <B>:owner-p</B> 
              is true, and if a generated pointer event would normally be 
              reported to this client, it is reported normally; otherwise the 
              event is reported with respect to the <I>window</I>, and is 
              only reported if selected by <I>event-mask</I>. For either 
              value of <B>:owner-p</B>, unreported events are simply 
              discarded.
            <P>
              If <B>:sync-pointer-p</B> is <B>nil</B>, pointer event 
              processing continues normally (asynchronously); if the pointer 
              is currently frozen by this client, then processing of pointer 
              events is resumed. If <B>:sync-pointer-p</B> is true 
              (indicating a synchronous action), the pointer (as seen via the 
              protocol) appears to freeze, and no further pointer events are 
              generated by the server until the grabbing client issues a 
              releasing <A
               HREF='12_13_Releasing_Queued_Events.html#allow-events'><B>
              allow-events</B></A> request. Actual pointer changes are not 
              lost while the pointer is frozen; they are simply queued for 
              later processing.
            <P>
              If <B>:sync-keyboard-p</B> is <B>nil</B>, keyboard event 
              processing is unaffected by activation of the grab. If <B>
              :sync-keyboard-p</B> is true, the keyboard (as seen via the 
              protocol) appears to freeze, and no further keyboard events are 
              generated by the server until the grabbing client issues a 
              releasing <A
               HREF='12_13_Releasing_Queued_Events.html#allow-events'><B>
              allow-events</B></A> request. Actual keyboard changes are not 
              lost while the keyboard is frozen; they are simply queued for 
              later processing.
            <P>
              If <B>:cursor</B> is specified, it is displayed regardless of 
              what window the pointer is in. Otherwise, the normal cursor for 
              the <I>window</I> is displayed.
            <P>
              If a <B>:confine-to</B> window is specified, the pointer is 
              restricted to stay within that window. The <B>:confine-to</B> 
              window does not need to have any relationship to the <I>window
              </I>. If the pointer is not initially in the <B>:confine-to</B> 
              window, it is warped automatically to the closest edge (with <B>
              :enter</B>/<B>:leave-events</B> generated normally) just before 
              the grab activates. If the <B>:confine-to</B> window is 
              subsequently reconfigured, the pointer is warped automatically 
              as necessary to keep it contained in the window.
            <P>
              <A HREF='12_8_Grabbing_the_Pointer.html#grab-pointer'><B>
              grab-pointer</B></A> generates <A
               HREF='12_12_1_Keyboard_and_Pointer_Events.html#:enter-notify'>
              <B>:enter-notify</B></A> and <A
               HREF='12_12_1_Keyboard_and_Pointer_Events.html#:leave-notify'>
              <B>:leave-notify</B></A> events. <A
               HREF='12_8_Grabbing_the_Pointer.html#grab-pointer'><B>
              grab-pointer</B></A> can fail with a status of:
            <UL>
              <LI>
                <B>:already-grabbed</B> if the pointer is actively grabbed by 
                some other client
              <LI>
                <B>:frozen</B> if the pointer is frozen by an active grab of 
                another client
              <LI>
                <B>:not-viewable</B> if the <I>window</I> or the <B>
                :confine-to</B> window is not viewable, or if the <B>
                :confine-to</B> window lies completely outside the boundaries 
                of the root window.
              <LI>
                <B>:invalid-time</B> if the specified time is earlier than 
                the last-pointer-grab time or later than the current server 
                time. Otherwise, the last-pointer-grab time is set to the 
                specified time, with current-time replaced by the current 
                server time, and a value of <B>:success</B> is returned by <A
                 HREF='12_8_Grabbing_the_Pointer.html#grab-pointer'><B>
                grab-pointer</B></A>.
            </UL>
             
            <DL>
              <DT>
                <I>grab-status</I>
              <DD>
                One of <B>:already-grabbed</B>, <B>:frozen</B>, <B>
                :invalid-time</B>, <B>:not-viewable</B>, or <B>:success</B>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='ungrab-pointer'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>ungrab-pointer</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>display</I> &#38;key 
            <B>:time</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>display</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#display'><B>display</B></A>.
              <DT>
                <B>:time</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B></A>
                .
            </DL>
            <P>
              Releases the pointer if this client has it actively grabbed 
              (from either <A
               HREF='12_8_Grabbing_the_Pointer.html#grab-pointer'><B>
              grab-pointer</B></A>, <A
               HREF='12_9_Grabbing_a_Button.html#grab-button'><B>grab-button
              </B></A>, or from a normal button press), and releases any 
              queued events. The request has no effect if the specified <B>
              :time</B> is earlier than the last-pointer-grab time or is 
              later than the current server time. An <B>ungrabpointer</B> is 
              performed automatically if the event window or <B>:confine-to
              </B> window for an active pointer grab becomes not viewable.
            <P>
              This request generates <A
               HREF='12_12_1_Keyboard_and_Pointer_Events.html#:enter-notify'>
              <B>:enter-notify</B></A> and <A
               HREF='12_12_1_Keyboard_and_Pointer_Events.html#:leave-notify'>
              <B>:leave-notify</B></A> events.
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='change-active-pointer-grab'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>change-active-pointer-grab</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>display event-mask</I>
             &#38;optional <I>cursor time</I>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>display</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#display'><B>display</B></A>.
              <DT>
                <I>event-mask</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#pointer-event-mask'><B>
                pointer-event-mask</B></A>.
              <DT>
                <I>cursor</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#cursor'><B>cursor</B></A> or <B
                >nil</B>.
              <DT>
                <I>time</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B></A>
                .
            </DL>
            <P>
              Changes the specified dynamic parameters if the pointer is 
              actively grabbed by the client and the specified <I>time</I> is 
              no earlier than the last-pointer-grab time and no later than 
              the current server time. The interpretation of <I>event-mask</I>
               and <I>cursor</I> are as in <A
               HREF='12_8_Grabbing_the_Pointer.html#grab-pointer'><B>
              grab-pointer</B></A>. <A
               HREF='12_8_Grabbing_the_Pointer.html#change-active-pointer-grab'
              ><B>change-active-pointer-grab</B></A> has no effect on the 
              passive parameters of a <A
               HREF='12_9_Grabbing_a_Button.html#grab-button'><B>grab-button
              </B></A>.
      </TABLE>
    </DIV>
     
    <HR>
    <A HREF='12_9_Grabbing_a_Button.html'>Next</A> <A
     HREF='12_7_Managing_Input_Focus.html'>Prev</A> <A
     HREF='12_Events_and_Input.html'>Up</A> 
    <HR>
    <A HREF='Front_matter.html'>&#169; 1988, 1989 Texas Instruments 
    Incorporated</A>
    <BR>
    Conversion to HTML made by <A
     HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' LANG='de'>
    Gilbert Baumann</A>.
    <BR>
    Last build: Tue Dec 16 23:30:42 1997
