<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This file is automatically generated, do not edit -->

<HTML LANG='en'>
  <HEAD>
    <TITLE>14.4.2 Keyboard Mapping</TITLE>
    <LINK HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' REV='made'>
    <LINK HREF='14_4_3_Using_Keycodes_and_Keysyms.html' REL='Next'>
    <LINK HREF='14_4_1_Keycodes_and_Keysyms.html' REL='Previous'>
    <LINK HREF='index.html' REL='Start'>
    <LINK HREF='contents.html' REL='Contents'>
    <LINK HREF='the_index.html' REL='Index'>
    <LINK HREF='Glossary.html' REL='Glossary'>
    <LINK HREF='Front_matter.html' REL='Copyright'>
  <BODY BGCOLOR='#FFFFFF'>
    <A HREF='14_4_3_Using_Keycodes_and_Keysyms.html'>Next</A> <A
     HREF='14_4_1_Keycodes_and_Keysyms.html'>Prev</A> <A
     HREF='14_4_Keyboard_Encodings.html'>Up</A> 
    <HR>
    <H1><FONT FACE='helvetica' COLOR='#004000'>14.4.2 Keyboard Mapping</FONT>
    </H1>
     
    <P>
      The X server maintains a keyboard mapping that associates each keycode 
      with one or more keysyms. The following paragraphs describe the CLX 
      functions used to return or change the mapping of keycodes.
    <DIV>
      <HR>
      <A NAME='change-keyboard-mapping'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>change-keyboard-mapping</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>display keysyms</I> 
            &#38;key (<B>:start</B> 0) <B>:end</B> (<B>:first-keycode :start
            </B>)
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>display</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#display'><B>display</B></A>.
              <DT>
                <I>keysyms</I>
              <DD>
                A two-dimensional array of keysym (<A
                 HREF='1_6_Data_Types.html#card32'><B>card32</B></A>) values.
              <DT>
                <B>:start</B>, <B>:end</B>
              <DD>
                Indexes for the subsequence of <I>keysyms</I> used.
              <DT>
                <B>:first-keycode</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#card8'><B>card8</B></A> 
                defining the first keycode mapping changed.
            </DL>
            <P>
              Changes the mapping of keycodes to <I>keysyms</I>. A <A
               HREF='12_12_3_Keyboard_and_Pointer_State_Events.html#:mapping-notify'
              ><B>:mapping-notify</B></A> event is generated for all clients.
            <P>
              The new <I>keysyms</I> are specified as a two-dimensional array 
              in which:
            <P>
              (<B>aref</B> <I>keysyms</I> (+ <B>:start</B> <I>i</I>) <I>j</I>)
            <P>
              is <I>keysym j</I> associated with keycode (+ <B>:first-keycode
              </B> <I>i</I>). The maximum number of <I>keysyms</I> associated 
              with any one keycode is given by:
            <P>
              (<B>array-dimension</B> <I>keysyms</I> 1)
            <P>
              <I>keysyms</I> should contain <B>nil</B> elements to represent 
              those keysyms that are undefined for a given keycode. <B>:start
              </B> and <B>:end</B> define the subsequence of the <I>keysyms
              </I> array that defines the new mapping, and the number of 
              keycode mappings changed. By default, <B>:end</B> is given by:
            <P>
              (<B>array-dimension</B> <I>keysyms</I> 0)
            <P>
              The keycodes whose mappings are changed are given by <B>
              :first-keycode</B> through the following:
            <P>
              (+ <B>:first-keycode</B> (- <B>:end :start</B>) -1)
            <P>
              keycodes outside this range of are not affected. <B>
              :first-keycode</B> must not be less than (<A
               HREF='2_3_Display_Attributes.html#display-min-keycode'><B>
              display-min-keycode</B></A> <I>display</I>), and the last 
              keycode modified must not be greater than (<A
               HREF='2_3_Display_Attributes.html#display-max-keycode'><B>
              display-max-keycode</B></A> <I>display</I>).
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='keyboard-mapping'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>keyboard-mapping</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>display</I> &#38;key 
            <B>:first-keycode :start :end :data</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>display</I>
              <DD>
                A <A HREF='1_6_Data_Types.html#display'><B>display</B></A>.
              <DT>
                <B>:first-keycode</B>
              <DD>
                A <A HREF='1_6_Data_Types.html#card8'><B>card8</B></A> 
                defining the first keycode mapping returned.
              <DT>
                <B>:start</B>, <B>:end</B>
              <DD>
                Indexes for the subsequence of the returned array which is 
                modified.
              <DT>
                <B>:data</B>
              <DD>
                If given, a two-dimensional array to receive the returned 
                keysyms.
            </DL>
            <P>
              Returns the keysyms mapped to the given range of keycodes for 
              the <I>display</I> keyboard. The mappings are returned in the 
              form of a two-dimensional array of <A
               HREF='1_6_Data_Types.html#card32'><B>card32</B></A> keysym 
              values. The <B>:data</B> argument, if given, must be a 
              two-dimensional array in which the returned mappings will be 
              stored. In this case:
            <P>
              (<B>array-dimension :data</B> 1)
            <P>
              defines the maximum number of keysyms returned for any keycode. 
              Otherwise, a new array is created and returned.
            <P>
              Upon return:
            <P>
              (<B>aref</B> <I>mappings</I> (+ <I>:start i</I>) <I>j</I>)
            <P>
              will contain keysym <I>j</I> associated with keycode (+ <B>
              :first-keycode i</B>) (or <B>nil</B>, if keysym <I>j</I> is 
              undefined for that keycode).
            <P>
              <B>:first-keycode</B> specifies the first keycode whose mapping 
              is returned; by default, <B>:first-keycode</B> is (<A
               HREF='2_3_Display_Attributes.html#display-min-keycode'><B>
              display-min-keycode</B></A> <I>display</I>). <B>:start</B> and 
              <B>:end</B> define the subsequence of the returned array in 
              which the returned mappings are stored. By default, <B>:start
              </B> is given by <B>:first-keycode</B> and <B>:end</B> is given 
              by:
            <P>
              (1+ (<A HREF='2_3_Display_Attributes.html#display-max-keycode'>
              <B>display-max-keycode</B></A> <I>display</I>))
            <P>
              <B>:first-keycode</B> must not be less than (<A
               HREF='2_3_Display_Attributes.html#display-min-keycode'><B>
              display-min-keycode</B></A> <I>display</I>), and the last 
              keycode returned must not be greater than (<A
               HREF='2_3_Display_Attributes.html#display-max-keycode'><B>
              display-max-keycode</B></A> <I>display</I>).
            <DL>
              <DT>
                <I>mappings</I>
              <DD>
                Type (<B>array card32</B> (* *)).
            </DL>
      </TABLE>
    </DIV>
     
    <HR>
    <A HREF='14_4_3_Using_Keycodes_and_Keysyms.html'>Next</A> <A
     HREF='14_4_1_Keycodes_and_Keysyms.html'>Prev</A> <A
     HREF='14_4_Keyboard_Encodings.html'>Up</A> 
    <HR>
    <A HREF='Front_matter.html'>&#169; 1988, 1989 Texas Instruments 
    Incorporated</A>
    <BR>
    Conversion to HTML made by <A
     HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' LANG='de'>
    Gilbert Baumann</A>.
    <BR>
    Last build: Tue Dec 16 23:30:42 1997
