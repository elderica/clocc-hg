<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This file is automatically generated, do not edit -->

<HTML LANG='en'>
  <HEAD>
    <TITLE>12.12.7 Client Communications Events</TITLE>
    <LINK HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' REV='made'>
    <LINK HREF='12_12_8_Declaring_Event_Types.html' REL='Next'>
    <LINK HREF='12_12_6_Structure_Control_Events.html' REL='Previous'>
    <LINK HREF='index.html' REL='Start'>
    <LINK HREF='contents.html' REL='Contents'>
    <LINK HREF='the_index.html' REL='Index'>
    <LINK HREF='Glossary.html' REL='Glossary'>
    <LINK HREF='Front_matter.html' REL='Copyright'>
  <BODY BGCOLOR='#FFFFFF'>
    <A HREF='12_12_8_Declaring_Event_Types.html'>Next</A> <A
     HREF='12_12_6_Structure_Control_Events.html'>Prev</A> <A
     HREF='12_12_Event_Types.html'>Up</A> 
    <HR>
    <H1><FONT FACE='helvetica' COLOR='#004000'>12.12.7 Client Communications 
      Events</FONT></H1>
     
    <P>
      The client communications events discussed in the following paragraphs 
      are: <A HREF='12_12_7_Client_Communications_Events.html#:client-message'
      ><B>:client-message</B></A>, <A
       HREF='12_12_7_Client_Communications_Events.html#:property-notify'><B>
      :property-notify</B></A>, <A
       HREF='12_12_7_Client_Communications_Events.html#:selection-clear'><B>
      :selection-clear</B></A>, <A
       HREF='12_12_7_Client_Communications_Events.html#:selection-request'><B>
      :selection-request</B></A>, and <A
       HREF='12_12_7_Client_Communications_Events.html#:selection-notify'><B>
      :selection-notify</B></A>.
    <DIV>
      <HR>
      <A NAME=':client-message'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>:client-message</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Event Type
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <P>
              The <A
               HREF='12_12_7_Client_Communications_Events.html#:client-message'
              ><B>:client-message</B></A> event is generated exclusively by 
              client calls to <A HREF='12_5_Sending_Events.html#send-event'><B
              >send-event</B></A>. The X server places no interpretation on 
              the <I>type</I> or content of <I>data</I> sent in a <A
               HREF='12_12_7_Client_Communications_Events.html#:client-message'
              ><B>:client-message</B></A>. A client can neither select <A
               HREF='12_12_7_Client_Communications_Events.html#:client-message'
              ><B>:client-message</B></A> events nor avoid receiving them.
            <DL>
              <DT>
                <I>window, event-window</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#window'><B>window</B></A>. 
                The window receiving the event.
              <DT>
                <I>type</I>
              <DD>
                Type <B>keyword</B>. An xatom keyword that specifies the type 
                of client message. Interpretation of the type is determined 
                solely by agreement between the sending and receiving clients.
              <DT>
                <I>format</I>
              <DD>
                Type (<B>member 8 16 32</B>). An integer that specifies 
                whether <I>data</I> should be viewed as a sequence of 8-bit, 
                16-bit, or 32-bit quantities.
              <DT>
                <I>data</I>
              <DD>
                Type <B>(sequence integer)</B>. The data content of the 
                client message. <I>data</I> always consists of 160 bytes -- 
                depending on format, either 20 8-bit values, 10 16-bit values 
                or 5 32-bit values. The amount of this data actually used by 
                a particular client message depends on the type.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME=':property-notify'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>:property-notify</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Event Type
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>Selected by:</I>
              <DD>
                <B>:property-change</B>.
            </DL>
             
            <P>
              The <A
               HREF='12_12_7_Client_Communications_Events.html#:property-notify'
              ><B>:property-notify</B></A> event is generated when a window 
              property is changed or deleted.
            <DL>
              <DT>
                <I>window, event-window</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#window'><B>window</B></A>. 
                The window receiving the event.
              <DT>
                <I>atom</I>
              <DD>
                Type <B>keyword</B>. The property that was changed or deleted.
              <DT>
                <I>state</I>
              <DD>
                Type <B>(member :new-value :deleted)</B>. <I>state</I> is <B>
                :new-value</B> if the property was changed using <A
                 HREF='11_2_Properties.html#change-property'><B>
                change-property</B></A> or <A
                 HREF='11_2_Properties.html#rotate-properties'><B>
                rotate-properties</B></A>, even if zero-length data was added 
                or if all or part of the property was replaced with identical 
                data. <I>state</I> is <B>:deleted</B> if the property was 
                deleted using <A HREF='11_2_Properties.html#delete-property'>
                <B>delete-property</B></A> or <A
                 HREF='11_2_Properties.html#get-property'><B>get-property</B>
                </A>.
              <DT>
                <I>time</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B>
                </A>. The server time when the property was changed or 
                deleted.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME=':selection-clear'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>:selection-clear</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Event Type
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <P>
              The <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-clear'
              ><B>:selection-clear</B></A> event is reported to the previous 
              owner of a <I>selection</I> when the owner of the <I>selection
              </I> is changed. The selection owner is changed by a client 
              using <B>setf</B>. A client can neither select <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-clear'
              ><B>:selection-clear</B></A> events nor avoid receiving them.
            <DL>
              <DT>
                <I>window, event-window</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#window'><B>window</B></A>. 
                The window losing ownership of the <I>selection</I>.
              <DT>
                <I>selection</I>
              <DD>
                Type <B>keyword</B>. The name of the selection.
              <DT>
                <I>time</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B>
                </A>. The last-change time recorded for the <I>selection</I>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME=':selection-notify'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>:selection-notify</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Event Type
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <P>
              The <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-notify'
              ><B>:selection-notify</B></A> event is sent to a client calling 
              <A HREF='11_3_Selections.html#convert-selection'><B>
              convert-selection</B></A>. <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-notify'
              ><B>:selection-notify</B></A> reports the result of the client 
              request to return the current value of a <I>selection</I> into 
              a particular form. <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-notify'
              ><B>:selection-notify</B></A> is sent using <A
               HREF='12_5_Sending_Events.html#send-event'><B>send-event</B>
              </A> by the owner of the selection or (if no owner exists) by 
              the X server. A client can neither select <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-notify'
              ><B>:selection-notify</B></A> events nor avoid receiving them.
            <P>
              <B>NOTE:</B> Standard conventions for inter-client 
              communication require the following additional steps in 
              processing a <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-notify'
              ><B>:selection-notify</B></A> event:
            <OL>
              <LI>
                The client receiving this event should call <A
                 HREF='11_2_Properties.html#get-property'><B>get-property</B>
                </A> to return the converted selection value.
              <LI>
                After receiving the selection value, the property should then 
                be deleted (either by using the <B>:delete-p</B> argument to 
                <A HREF='11_2_Properties.html#get-property'><B>get-property
                </B></A> or by calling <A
                 HREF='11_2_Properties.html#delete-property'><B>
                delete-property</B></A>).
            </OL>
             
            <DL>
              <DT>
                <I>window, event-window</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#window'><B>window</B></A>. 
                The requestor window given in the call to <A
                 HREF='11_3_Selections.html#convert-selection'><B>
                convert-selection</B></A>.
              <DT>
                <I>selection</I>
              <DD>
                Type <B>keyword</B>. The selection to be converted.
              <DT>
                <I>target</I>
              <DD>
                Type <B>keyword</B>. An <A HREF='1_6_Data_Types.html#xatom'><B
                >xatom</B></A> specifying the type of the converted selection 
                value. This is the same target type given in the call to <A
                 HREF='11_3_Selections.html#convert-selection'><B>
                convert-selection</B></A>.
              <DT>
                <I>property</I>
              <DD>
                Type <B>(or null keyword)</B>. The window property containing 
                the converted selection. If the property is <B>nil</B>, then 
                either the <I>selection</I> has no owner or the owner could 
                not perform the conversion to the <I>target</I> type.
              <DT>
                <I>time</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B>
                </A>. The timestamp from the client call to <A
                 HREF='11_3_Selections.html#convert-selection'><B>
                convert-selection</B></A>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME=':selection-request'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>:selection-request</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Event Type
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <P>
              The <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-request'
              ><B>:selection-request</B></A> event is reported to the owner 
              of a selection when a client calls <A
               HREF='11_3_Selections.html#convert-selection'><B>
              convert-selection</B></A>. This event requests the selection 
              owner to convert the current value of a <I>selection</I> into a 
              specified form and to return it to the requestor. A client can 
              neither select <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-request'
              ><B>:selection-request</B></A> events nor avoid receiving them.
            <P>
              The selection owner should respond to a <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-request'
              ><B>:selection-request</B></A> event by performing the 
              following steps:
            <OL>
              <LI>
                Convert the current <I>selection</I> value to the <I>target
                </I> type.
              <LI>
                Store the converted selection value in the <I>property</I>. 
                If <I>property</I> is <B>nil</B>, then the owner should 
                choose the <I>property</I>.
              <LI>
                Call <A HREF='12_5_Sending_Events.html#send-event'><B>
                send-event</B></A> to send a <A
                 HREF='12_12_7_Client_Communications_Events.html#:selection-notify'
                ><B>:selection-notify</B></A> event to the <I>requestor</I> 
                containing the <I>property</I> with the converted value. If 
                the <I>selection</I> could not be converted to the <I>target
                </I> type, then a <B>nil</B> <I>property</I> should be sent. 
                The <B>:selection</B>, <B>:target</B>, and <B>:time</B> 
                arguments to <A HREF='12_5_Sending_Events.html#send-event'><B>
                send-event</B></A> should be the same as those received in 
                the <A
                 HREF='12_12_7_Client_Communications_Events.html#:selection-request'
                ><B>:selection-request</B></A> event. The event-mask argument 
                to <A HREF='12_5_Sending_Events.html#send-event'><B>send-event
                </B></A> should be <B>nil</B>; that is, the <A
                 HREF='12_12_7_Client_Communications_Events.html#:selection-notify'
                ><B>:selection-notify</B></A> event should be sent to client 
                that created the <I>requestor</I>.
            </OL>
             
            <P>
              <B>NOTE:</B> Standard conventions for inter-client 
              communication require the following additional steps in 
              processing a <A
               HREF='12_12_7_Client_Communications_Events.html#:selection-request'
              ><B>:selection-request</B></A> event:
            <OL>
              <LI>
                The property used to store the selection value must belong to 
                the requestor.
              <LI>
                If the property is <B>nil</B>, the target type <B>atom</B> 
                should be used as the property name.
              <LI>
                If the window did not actually own the selection at the given 
                time, the request should be refused, just as if it could not 
                be converted to the target type.
            </OL>
             
            <DL>
              <DT>
                <I>window, event-window</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#window'><B>window</B></A>. 
                The selection owner receiving the event.
              <DT>
                <I>requestor</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#window'><B>window</B></A>. 
                The window requesting the converted <I>selection</I>.
              <DT>
                <I>selection</I>
              <DD>
                Type <B>keyword</B>. The selection to be converted.
              <DT>
                <I>target</I>
              <DD>
                Type <B>keyword</B>. An <A HREF='1_6_Data_Types.html#xatom'><B
                >xatom</B></A> specifying the type of the converted <I>
                selection</I> value.
              <DT>
                <I>property</I>
              <DD>
                Type <B>(or null keyword)</B>. A requestor window property.
              <DT>
                <I>time</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#timestamp'><B>timestamp</B>
                </A>. The timestamp sent in the client <A
                 HREF='11_3_Selections.html#convert-selection'><B>
                convert-selection</B></A> request.
            </DL>
      </TABLE>
    </DIV>
     
    <HR>
    <A HREF='12_12_8_Declaring_Event_Types.html'>Next</A> <A
     HREF='12_12_6_Structure_Control_Events.html'>Prev</A> <A
     HREF='12_12_Event_Types.html'>Up</A> 
    <HR>
    <A HREF='Front_matter.html'>&#169; 1988, 1989 Texas Instruments 
    Incorporated</A>
    <BR>
    Conversion to HTML made by <A
     HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' LANG='de'>
    Gilbert Baumann</A>.
    <BR>
    Last build: Tue Dec 16 23:30:42 1997
