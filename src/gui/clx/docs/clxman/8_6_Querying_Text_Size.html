<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This file is automatically generated, do not edit -->

<HTML LANG='en'>
  <HEAD>
    <TITLE>8.6 Querying Text Size</TITLE>
    <LINK HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' REV='made'>
    <LINK HREF='9_Colors.html' REL='Next'>
    <LINK HREF='8_5_Chracter_Attributes.html' REL='Previous'>
    <LINK HREF='index.html' REL='Start'>
    <LINK HREF='contents.html' REL='Contents'>
    <LINK HREF='the_index.html' REL='Index'>
    <LINK HREF='Glossary.html' REL='Glossary'>
    <LINK HREF='Front_matter.html' REL='Copyright'>
  <BODY BGCOLOR='#FFFFFF'>
    <A HREF='9_Colors.html'>Next</A> <A HREF='8_5_Chracter_Attributes.html'>
    Prev</A> <A HREF='8_Font_and_Characters.html'>Up</A> 
    <HR>
    <H1><FONT FACE='helvetica' COLOR='#004000'>8.6 Querying Text Size</FONT>
    </H1>
     
    <P>
      CLX defines functions to return the size of text drawn in a specified 
      font. See paragraph 6.7, Drawing Text, for a description of the <B>
      :translate</B> function used by the functions in the following 
      paragraphs.
    <DIV>
      <HR>
      <A NAME='text-extents'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>text-extents</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>font sequence</I> 
            &#38;key (<B>:start</B> 0) <B>:end :translate</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>font</I>
              <DD>
                The font (or <A HREF='1_6_Data_Types.html#gcontext'><B>
                gcontext</B></A>) used for measuring characters.
              <DT>
                <I>sequence</I>
              <DD>
                A sequence of characters or other objects to be translated 
                into font indexes.
              <DT>
                <B>:start</B>, <B>:end</B>
              <DD>
                Start and end indexes defining the elements to draw.
              <DT>
                <B>:translate</B>
              <DD>
                A function to translate text to font indexes. Default is <B>
                #&#39;translate-default</B>.
            </DL>
            <P>
              Returns the complete geometry of the given <I>sequence</I> when 
              drawn in the given <I>fon</I>t. The <I>font</I> can be a <A
               HREF='1_6_Data_Types.html#gcontext'><B>gcontext</B></A>, in 
              which case the font attribute of the given graphics context is 
              used. <B>:start</B> and <B>:end</B> define the elements of the 
              <I>sequence</I> which are used.
            <P>
              The returned <I>width</I> is the total pixel width of the 
              translated character sequence. The returned <I>ascent</I> and <I
              >descent</I> give the vertical ascent and descent for 
              characters in the translated <I>sequence</I>. The returned <I>
              left</I> gives the left bearing of the leftmost character. The 
              returned <I>right</I> gives the right bearing of the rightmost 
              character. The returned <I>font-ascent</I> and <I>font-descent
              </I> give the maximum vertical ascent and descent for all 
              characters in the <I>fon</I>t. If <B>:translate</B> causes font 
              changes, then <I>font-ascent</I> and <I>font-descent</I> will 
              be the maximums over all fonts used. The <I>direction</I> 
              returns the preferred draw direction for the font. If <B>
              :translate</B> causes font changes, then the <I>direction</I> 
              will be <B>nil</B>. The <I>first-not-done</I> value returned is 
              <B>nil</B> if all elements of the <I>sequence</I> were 
              successfully translated; otherwise the index of the first 
              untranslated element is returned.
            <DL>
              <DT>
                <I>width</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#int32'><B>int32</B></A>.
              <DT>
                <I>ascent</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#int16'><B>int16</B></A>.
              <DT>
                <I>descent</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#int16'><B>int16</B></A>.
              <DT>
                <I>left</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#int32'><B>int32</B></A>.
              <DT>
                <I>right</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#int32'><B>int32</B></A>.
              <DT>
                <I>font-ascent</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#int16'><B>int16</B></A>.
              <DT>
                <I>direction</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#draw-direction'><B>
                draw-direction</B></A>.
              <DT>
                <I>first-not-done</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#array-index'><B>array-index
                </B></A> or <B>null</B>.
            </DL>
      </TABLE>
    </DIV>
     
    <DIV>
      <HR>
      <A NAME='text-width'></A>
      <TABLE>
        <TR>
          <TD VALIGN='TOP' ALIGN='LEFT'><B>text-width</B>
          <TD WIDTH='100%' VALIGN='TOP' ALIGN='LEFT'><I>font sequence</I> 
            &#38;key (<B>:start</B> 0) <B>:end :translate</B>
          <TD VALIGN='TOP' ALIGN='RIGHT'>Function
      </TABLE>
      <TABLE>
        <TR>
          <TD>&#160;&#160;&#160;&#160;&#160;
          <TD>
            <DL>
              <DT>
                <I>font</I>
              <DD>
                The font (or <A HREF='1_6_Data_Types.html#gcontext'><B>
                gcontext</B></A>) used for measuring characters.
              <DT>
                <I>sequence</I>
              <DD>
                A sequence of characters or other objects to be translated 
                into font indexes.
              <DT>
                <B>:start</B>, <B>:end</B>
              <DD>
                Start and end indexes defining the elements to draw.
              <DT>
                <B>:translate</B>
              <DD>
                A function to translate text to font indexes. Default is <B>
                #&#39;translate-default</B>.
            </DL>
            <P>
              Returns the total pixel width of the given <I>sequence</I> when 
              drawn in the given <I>font</I>. The <I>font</I> can be a <A
               HREF='1_6_Data_Types.html#gcontext'><B>gcontext</B></A>, in 
              which case the font attribute of the given graphics context is 
              used. <B>:start</B> and <B>:end</B> define the elements of the 
              <I>sequence</I> which are used. The second value returned is <B>
              nil</B> if all elements of the <I>sequence</I> were 
              successfully translated; otherwise the index of the first 
              untranslated element is returned.
            <DL>
              <DT>
                <I>width</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#int32'><B>int32</B></A>.
              <DT>
                <I>first-not-done</I>
              <DD>
                Type <A HREF='1_6_Data_Types.html#array-index'><B>array-index
                </B></A> or <B>null</B>.
            </DL>
      </TABLE>
    </DIV>
     
    <HR>
    <A HREF='9_Colors.html'>Next</A> <A HREF='8_5_Chracter_Attributes.html'>
    Prev</A> <A HREF='8_Font_and_Characters.html'>Up</A> 
    <HR>
    <A HREF='Front_matter.html'>&#169; 1988, 1989 Texas Instruments 
    Incorporated</A>
    <BR>
    Conversion to HTML made by <A
     HREF='mailto:gilbert@ma2s2.mathematik.uni-karlsruhe.de' LANG='de'>
    Gilbert Baumann</A>.
    <BR>
    Last build: Tue Dec 16 23:30:42 1997
