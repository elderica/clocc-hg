2004-04-27  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp:
	Fixed a problem with APPEND_LOGICAL_PNAMES that caused Matlisp not to
	compile properly.  The problem stemmed from the different settings of
	PATHNAME-HOST on CMUCL and LW.  The fix should be transparent across
	implementations.

	This replaces the patch by Kevin Rosenberg and Jochen Jost.

2004-04-20  kevinrosenberg  <kevinrosenberg@vault>

	* debian/control, debian/changelog: new debian package

2004-03-30  kevinrosenberg  <kevinrosenberg@vault>

	* debian/changelog, defsystem.lisp:
	argument order switch by Jochen Jost

2004-03-11  kevinrosenberg  <kevinrosenberg@vault>

	* debian/changelog:
	Automated commit for debian_version_3_3i+cvs_2004_03_10

2004-03-10  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp:
	Made some changed to APPEND-DIRECTORIES, APPEND-LOGICAL-PNAMES and
	TRANSLATE-VERSION to circumvent a bug in Lispworks MERGE-PATHNAMES.
	As a result the system is altogether safer because now we operate on
	pathnames more consistently.

2004-02-27  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* ChangeLog: ChangeLog updated.

	* defsystem.lisp:
	Fixed glitch in NEEDS-COMPILATION that made it too eager in
	conjunction with repeated LOAD operations.  Thanks to Raymond Toy for
	noting this.

2004-02-27  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp:
	Fixed glitch in NEEDS-COMPILATION that made it too eager in
	conjunction with repeated LOAD operations.  Thanks to Raymond Toy for
	noting this.

2004-02-10  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* ChangeLog: ChangeLog updated.

	* defsystem.lisp:
	Fixed initialization of extensions in presence (or not) of language
	definition.  (Thanks to Raymond Toy for finding this out.)

2004-02-01  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp: Release number upped to 3.4i.

	* README: README file updated.

2004-01-31  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* ChangeLog: ChangeLog updated.

	* defsystem.lisp:
	Made changes to FIND-SYSTEM to accommodate foreign systems.  Also made
	FIND-SYSTEM signal a MISSING-SYSTEM condition instead of using the
	simple condition machinery.

2004-01-31  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp:
	Made changes to FIND-SYSTEM to accommodate foreign systems.  Also made
	FIND-SYSTEM signal a MISSING-SYSTEM condition instead of using the
	simple condition machinery.

2004-01-24  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* ChangeLog: ChangeLog updated.

	* defsystem.lisp:
	Added and exported some specialized contidions for missing system
	components.
	Added and exported SYSTEM-DEFINITION-PATHNAME.
	Changed slightly (in a backward compatible way) the way a system is
	looked up in a directory tree.  Now (MK:FIND-SYSTEM "foo") will also
	find 'foo/foo.system' -- provided that the directory 'foo' is visible
	from the registry.

2004-01-24  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp:
	Added and exported some specialized contidions for missing system
	components.
	Added and exported SYSTEM-DEFINITION-PATHNAME.
	Changed slightly (in a backward compatible way) the way a system is
	looked up in a directory tree.  Now (MK:FIND-SYSTEM "foo") will also
	find 'foo/foo.system' -- provided that the directory 'foo' is visible
	from the registry.

2004-01-23  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp:
	Added three conditions to improve support for NEW-REQUIRE.

2004-01-12  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp: Updated copyright.

2003-09-26  rtoy  <rtoy@vault>

	* defsystem.lisp:
	Drop support for versions of CMUCL older than cmu17.  Thus, assume
	the feature :cmu means cmu17 and later.  This will make defsystem a
	little more robust against changes in CMUCL's version features.

2003-09-26  sds  <sds@vault>

	* defsystem.lisp: a half-hearted attempt at starting to support GCL

2003-04-29  rtoy  <rtoy@vault>

	* defsystem.lisp:
	Remove the :new-compiler conditionalization for CMUCL.  All CMUCL
	versions from 18a and later used the new compiler, and versions after
	18e will have the :new-compiler feature removed.

2003-04-28  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp:
	Changed some of the condizionalizations to take care of
	PROVIDE/REQUIRE hacking for various CL (especially MCL/OpenMCL).
	The new CMUCL version - 18e - may have some glitches due to the
	unclear status of the :NEW-COMPILER feature.  Please be patient about
	it.

2003-03-21  sds  <sds@vault>

	* defsystem.lisp: fixed a typo in the last patch

2003-03-11  sds  <sds@vault>

	* defsystem.lisp (add-registry-location): use PUSHNEW instead of PUSH

2003-02-03  kevinrosenberg  <kevinrosenberg@vault>

	* defsystem.lisp:
	Rename package for PROVIDE/REQUIRE with OpenMCL 0.13.4

2002-11-24  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* ChangeLog: ChangeLog updated.

2002-11-22  Marco Antoniotti  <marcoxa@vault.valis.nyu.edu>

	* defsystem.lisp:
	Changed licensing terms to make them more DFSG compliant.

	Also added first cut code to achieve "pathname less" operation of MK3,
	following the ideas in ASDF.  If the DEFSYSTEM form is loaded from a
	file, then the location of the file (intended as a directory) is
	computed from *LOAD-PATHNAME* and stored as the :SOURCE-PATHNAME of
	the system.

2002-11-22  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* defsystem.lisp:
	Changed licensing terms to make them more DFSG compliant.

	Also added first cut code to achieve "pathname less" operation of MK3,
	following the ideas in ASDF.  If the DEFSYSTEM form is loaded from a
	file, then the location of the file (intended as a directory) is
	computed from *LOAD-PATHNAME* and stored as the :SOURCE-PATHNAME of
	the system.

2002-11-18  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* defsystem.lisp: Added patches to accomodate Scieneer Common Lisp.
	Thanks to Douglas T. Crosher.

	* defsystem.lisp:
	Patched *FILENAME-EXTENSIONS* to take better care of the latest MCL.
	Thanks to Tom Russ <tar@isi.edu>.

	* defsystem.lisp:
	Added patches by Juanio Ripoll to make MK:DEFSYSTEM 3.3i work with
	ECL.

2002-11-14  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* defsystem.lisp:
	Added some minor patches to accomodate ECL (thanks to Juan Jose Garcia
	Ripoll).

2002-09-22  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* defsystem.lisp:
	Fixed problem in NEW-REQUIRE.  Removed STRING-DOWNCASE for CMUCL.

2002-08-26  kevinrosenberg  <kevinrosenberg@tapulon>

	* defsystem.html, defsystem.text: move documentation

	* defsystem.html, defsystem.text:
	Add documentation files from common lisp controller directory in
	preparation for defsystem source being removed from common lisp
	controller. Common Lisp Controller can depend on defsystem
	versions 3 & 4 as well as asdf without including them in its
	source.

2002-06-19  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* ChangeLog: ChangeLog updated.

2002-06-17  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* defsystem.lisp:
	Fixed loading of foreign modules for C under Lispworks (patch provided
	by Dave Fox from Xanalys).

2002-06-17  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* defsystem.lisp:
	Fixed loading of foreign modules for C under Lispworks (patch provided
	by Dave Fox from Xanalys).

2002-06-13  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* ChangeLog: ChangeLog updated.

	* defsystem.lisp:
	Added patch for loading C files under Lispworks on Linux.
	Patch submitted by Walter C. Pelissero.

	* defsystem.lisp: Updated release number to 3.3i.

	* README: Release number updated to 3.3.

	* ChangeLog: ChangeLog Updated.

	* README: File Added.

2002-06-13  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* defsystem.lisp:
	Added patch for loading C files under Lispworks on Linux.
	Patch submitted by Walter C. Pelissero.

	* defsystem.lisp: Updated release number to 3.3i.

	* README: Release number updated to 3.3.

	* ChangeLog: ChangeLog Updated.

	* README: File Added.

2002-06-13  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* README: File Added.

2002-05-30  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* ChangeLog: ChangeLog updated.

	* defsystem.lisp:
	Minor fix to DEFINE-LANGUAGE :C (better feature discrimination in
	place).

2002-05-30  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* defsystem.lisp:
	Minor fix to DEFINE-LANGUAGE :C (better feature discrimination in
	place).

2002-05-29  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* ChangeLog: ChangeLog updated.

	* defsystem.lisp: Added PATHNAME-HOST to pathname construction in
	ENSURE-DIRECTORIES-EXIST in COMPILE-FILE-OPERATION.

	Added loader for C Libraries for SBCL and (experimental) loader for C
	libraries for Lispworks 4.2 both under MS Windows and UNIX.

2002-05-29  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* defsystem.lisp: Added PATHNAME-HOST to pathname construction in
	ENSURE-DIRECTORIES-EXIST in COMPILE-FILE-OPERATION.

	Added loader for C Libraries for SBCL and (experimental) loader for C
	libraries for Lispworks 4.2 both under MS Windows and UNIX.

2002-03-26  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* ChangeLog: ChangeLog updated.

	* defsystem.lisp:
	Changed computation of the compiled file extension for ACL when the
	source file type is "cl".

	Cfr.
		#+excl ("cl"   . ,(pathname-type (compile-file-pathname "foo.cl")))

2002-03-23  kevinrosenberg  <kevinrosenberg@tapulon>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/ChangeLog, /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Backported ADD-REGISTRY-LOCATION function from defsystem-4

2002-03-22  Kevin Rosenberg (kevin@rosenberg.net)
	
	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Backported ADD-REGISTRY-LOCATION function from DEFSYSTEM 4.
	Users are encouraged to use this function rather than
	directly pushing registry pathnames onto mk:*central-registry*.
	
2002-03-02  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	More patches from KMR to make DEFSYSTEM 3.x more ACL friendly.
	A major change has been introduced in the way directories are appended
	for ACL.  All computations now go through NEW-APPEND-DIRECTORIES.
	Tests do not show problems, but YMMV.

2002-02-20  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/ChangeLog: ChangeLog updated.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Added some initial support for CormanLisp.  Not quite working yet.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Updated copyright notice to include 2001 and 2002.

2002-02-20  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Added some initial support for CormanLisp.  Not quite working yet.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Updated copyright notice to include 2001 and 2002.

2002-02-20  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Updated copyright notice to include 2001 and 2002.

2002-02-12  sds  <sds@tapulon>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (new-append-directories):
	avoid binding REL-FILE when it is not used

2002-02-11  stig  <stig@tapulon>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	minor case-change of the symbol T to t, to correspond to other
	case-changes done recently.

2002-02-06  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/ChangeLog: ChangeLog updated.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Added patches by Kevin Rosenberg and Arthur Lemmens.
	ACL case-sensitivity should not cause any problems now
	and LW warning should disappear.
	Also, support for the newer compilers and binaries for
	ACL 6.1 and LW 4.2 is in (thanks again to Kevin Rosenberg).

2002-02-06  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Added patches by Kevin Rosenberg and Arthur Lemmens.
	ACL case-sensitivity should not cause any problems now
	and LW warning should disappear.
	Also, support for the newer compilers and binaries for
	ACL 6.1 and LW 4.2 is in (thanks again to Kevin Rosenberg).

2002-01-18  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/ChangeLog: ChangeLog updated.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Addeed `with-compilation-unit' patch to `operate-on-system', as
	suggested by Bob Rogers.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/ChangeLog: ChangeLog updated.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Modified some definitions to accommodate ACL case sensitivity according
	to suggestions by Kevin Rosenberg.

2002-01-18  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Addeed `with-compilation-unit' patch to `operate-on-system', as
	suggested by Bob Rogers.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/ChangeLog: ChangeLog updated.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Modified some definitions to accommodate ACL case sensitivity according
	to suggestions by Kevin Rosenberg.

2002-01-18  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Modified some definitions to accommodate ACL case sensitivity according
	to suggestions by Kevin Rosenberg.

2002-01-09  rtoy  <rtoy@tapulon>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/ChangeLog:
	*** empty log message ***

2002-01-09  Raymond Toy  <toy@rtp.ericsson.se>

	* defsystem.lisp (create-component): Let :compiler-options be
	inherited from the parent if no :compiler-options option is
	given. 

2001-07-26  Sam Steingold  <sds@gnu.org>

	* defsystem.lisp (new-append-directories): removed CLISP-specific
	type upcasing (why was it there in the first place?!)

2001-06-06  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Changed definition of 'compile-file-operation' to meet requirements
	for COMMON-LISP-CONTROLLER.

	Added a few fixes for LispWorks on PC/Windows.

2001-05-07  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/.cvsignore: cr/lf

2001-04-11  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	updated for CLISP #+LISP=CL

2001-03-18  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/.cvsignore: added lww *.fsl

2001-03-16  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (component-full-pathname-i):
	init device from `pathname'
	 when it is nil in the `component'

2001-02-06  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (run-compiler):
	`error-file' and `error-file-stream'
	 should exist only under #+cmu

2001-01-09  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Added patch for 'new-append-directories' for MCL 3.4.

2001-01-08  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	updated for CMUCL 18c, where :cmu17 is not a feature anymore
	(component): type defaults to `:file'

2000-07-26  Raymond Toy  <rtoy@users.sourceforge.net>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Add COMPILER-OPTIONS to COMPONENT defstruct to allow user to specify
	special compiler options for a particular component.

2000-05-16  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (system-source-size):
	message tweak

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (pathname-logical-p):
	fixed the CLISP version (`logical-pathname-p'
	was called but not defined) and unified both versions into one.

2000-05-15  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (c-compile-file):
	ignore `error-file' (kill a warning)

2000-05-12  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (*central-registry*):
	fixed for lispworks4 (from dey)

2000-05-11  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (system-source-size):
	new optional argument `force'

2000-05-10  Raymond Toy  <rtoy@users.sourceforge.net>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	CMUCL and CLISP RUN-PROGRAM want the arguments as a list of strings.
	Change RUN-UNIX-PROGRAM so the arguments are a list.  Convert the list
	to a string for the other platforms.  (Not tested.)

	Modify C-COMPILE-FILE accordingly.

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Don't default binary-extension so we can inherit this from the
	parent, just like source-extension.

2000-04-19  Bruno Haible  <haible@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Add three #+clisp, to silence warnings.

2000-04-07  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (component source-extension):
	do not supply an init
	form (stig's patch)

2000-03-29  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp (*filename-extensions*):
	use `compile-file-pathname' to find the
	default binary extension.

2000-03-23  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Fixed problem with ACL and construction of system filenames in
	COMPUTE-SYSTEM-PATH.

	Also fixed problem with exports conflicting with native ACL and LW
	defsystems.  No symbol is now imported in COMMON-LISP-USER.  You must
	always use the package qualifier "MK:" to access LOAD-SYSTEM,
	COMPILE-SYSTEM and friends.

2000-03-22  Bruno Haible  <haible@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	*filename-extensions* needs only one entry for CLISP, not two.

2000-03-15  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Fixed the '*defsystem-version* variable to reflect the current version.

2000-03-03  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	do not redefine provide/require under clisp

2000-03-03  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	Added change suggested by Raymond Toy and function PATHNAME-LOGICAL-P.
	The beast has been tested lightly with no problems encountered.

2000-02-28  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	The symbols FIND-SYSTEM, LOAD-SYSTEM, DEFSYSTEM, COMPILE-SYSTEM and
	HARDCOPY-SYSTEM are no longer imported in the COMMON-LISP-USER
	package. Cfr. the definitions of *EXPORTS* and *SPECIAL-EXPORTS*.

2000-02-18  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/.cvsignore:
	ignore the compiled files

2000-02-16  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	finally, works with CLISP
	(*filename-extensions*): clisp uses `lsp', not `lisp'
	(*standard-source-file-types*, *standard-binary-file-types*):
	 removed (never used)
	(component): default `source-extension' and `binary-extension' on
	`*filename-extensions*', not hardwired `lisp/fasl'
	(default-source-extension, default-binary-extension): default
	based on `*filename-extensions*', not not hardwired `lisp/fasl'

2000-02-11  Sam Steingold  <sds@gnu.org>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:
	compile with clisp

2000-01-29  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:

2000-01-19  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp:

	* /cvsroot/clocc/clocc/src/defsystem-3.x/defsystem.lisp: New file.

